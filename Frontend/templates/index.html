{% extends "base.html" %}
{% block title %}Home - Barter System{% endblock %}
{% block content %}

<h1>Welcome to Barter System ðŸš€</h1>
<p>Click below to see the available items.</p>
<button onclick="loadItems()">Load Items</button>

<div id="items"></div>

<script>
async function loadItems() {
  try {
    const resp = await fetch("{{ url_for('list_items') }}");
    const data = await resp.json();
    const container = document.getElementById("items");
    container.innerHTML = "";

    if (!data.length) {
      container.innerHTML = "<p>No items available right now.</p>";
      return;
    }

    data.forEach(it => {
      const div = document.createElement("div");
      div.className = "item";
      div.innerHTML = `<strong>${it.name}</strong> â€” ${it.description}`;
      container.appendChild(div);
    });
  } catch (error) {
    alert("Failed to load items.");
  }
}
</script>

{% endblock %}
